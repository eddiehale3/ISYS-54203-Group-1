<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <!-- Ensures proper rendering and touch zooming for all devices -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Events by Category - Campus Event Calendar</title>
    <!-- Link to the main stylesheet -->
    <link rel="stylesheet" href="Style/style.css">
    <!-- Link to the home-specific stylesheet -->
    <link rel="stylesheet" href="Style/home.css">
    
</head>
<body>
    <!-- Header section of the page -->
    <header>
        <h1>Campus Event Calendar</h1>
        <p>Stay updated on all the exciting events happening on campus!</p>
    </header>

    <main class="container">
        <div id="filter-bar">
            <label for="category-filter">Filter by Category:</label>
            <select id="category-filter">
                <option value="all">All Categories</option>
                <option value="Music">Music</option>
                <option value="Arts">Arts</option>
                <option value="Sports">Sports</option>
                <option value="Academic">Academic</option>
                <!-- Add more categories as needed -->
            </select>
        </div>

        <h2 id="category-title">Events by Category</h2>
        <div id="event-list" class="event-list"></div>
    </main>

    <!-- Main content of the page -->
    <main class="container">
        <!-- Title for the category, which will be dynamically updated -->
        <h2 id="category-title">Events by Category</h2>
        <!-- Container for the list of events, which will be populated dynamically -->
        <div id="event-list" class="event-list">
            <!-- Events will be dynamically added here by JavaScript -->
        </div>
    </main>

    <!-- Footer section of the page -->
    <footer>
        <p>&copy; 2023 Campus Event Calendar</p>
    </footer>

    <!-- Link to the main JavaScript file -->
    <script src="script.js"></script>
    
    <!-- Inline JavaScript for category-specific functionality -->
    <script>
        // Get the category from the URL parameter
        // For example, if the URL is "EventsByCategory.html?category=Music", this will extract "Music"
        const urlParams = new URLSearchParams(window.location.search);
        const category = urlParams.get('category');

        // Update the page title with the selected category
        document.getElementById('category-title').textContent = `${category} Events`;

        // Filter and display events for the selected category
        // These functions (filterEventsByCategory and displayEvents) should be defined in script.js
        const filteredEvents = filterEventsByCategory(category);
        displayEvents(filteredEvents);

        // Add color to the category title based on the category
        const categoryColors = {
            "Music": "#f0a",    // Pink
            "Arts": "#0af",     // Light Blue
            "Sports": "#fa0",   // Orange
            "Academic": "#0f0"  // Green
        };
        function updateEvents() {
            let filteredEvents;
            if (category === 'all') {
                filteredEvents = allEvents;  // Assuming you have an 'allEvents' array in script.js
                categoryTitle.textContent = "All Events";
            } else {
                filteredEvents = filterEventsByCategory(category);
                categoryTitle.textContent = `${category} Events`;
            }
            displayEvents(filteredEvents);
            categoryTitle.style.color = categoryColors[category] || "#000";
        }


        categoryFilter.addEventListener('change', () => {
            category = categoryFilter.value;
            updateEvents();
            // Optional: Update the URL to reflect the selected category
            // window.history.pushState({}, '', `?category=${category}`); 
        });


        // Set the initial state based on the URL or default to 'all'
        categoryFilter.value = category; // Set the dropdown to the correct category
        updateEvents();

    </script>
</body>
</html>